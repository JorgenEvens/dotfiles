set -g mouse on
set -g mouse-utf8 on
set -g default-terminal "screen-256color"
set -g status-bg blue
set -g status-fg black

# Follow the symlink at ~/.tmux.conf to find the location of dotfiles
run-shell "tmux source-file \$(DOTFILE="~/.tmux.conf"; while [ ! -z \$DOTFILE ] && [ -h \$DOTFILE ]; do DOTFILE=`readlink \$DOTFILE`; done; dirname \$DOTFILE)/tmux/.tmuxline.conf"

# Reload tmux config
bind-key R source-file ~/.tmux.conf

# navigate panes using jk, and ctrl+jk (no prefix)
bind-key -r j select-pane -t :.-
bind-key -r k select-pane -t :.+
bind-key -r C-j select-pane -t :.-
bind-key -r C-k select-pane -t :.+

# Use vim keybindings in copy mode
setw -g mode-keys vi

# Setup 'v' to begin selection as in Vim
set-option -g default-command "reattach-to-user-namespace -l zsh"
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

